module.exports=(()=>{"use strict";var e={611:(e,n,t)=>{t.r(n);const o=require("child_process"),r=require("fs"),l=require("os"),i=require("path"),a=require("process"),c=require("readline"),s=require("url");var u,g,d=(0,i.normalize)(__dirname+"/config.json"),p=JSON.parse((0,r.readFileSync)(d).toString()),{enable:v,proxy:h}=p;function f(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zh_CN",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";if(e&&""!==(null===(n=e.trim)||void 0===n?void 0:n.call(e))){var l=encodeURI("http://translate.google.com/translate_a/single?client=gtx&dt=t&dj=1&ie=UTF-8&sl=".concat(r,"&tl=").concat(t,"&q=").concat(e)),i=b(),a=v?"curl --proxy ".concat(h,' "').concat(l,'" ').concat(i):'curl "'.concat(l,'" ').concat(i),c=(0,o.execSync)(a).toString(),s=JSON.parse(c),u="";s.sentences.forEach((e=>{u+=e.trans})),console.log(u)}}function b(){return" 2> ".concat("win32"===(0,l.platform)()?"null":"/dev/null")}if(a.argv.length<3){var m=c.createInterface({input:a.stdin,output:a.stdout}),y="",x=null,S=null;m.addListener("line",(e=>{var n=e;if(n.startsWith(":")){var[t,o]=n.substring(1).split(" ");return void 0===o&&([t,o]=[o,t]),[u,g]=[t||u,o||g],void console.log("[INFO] 语种切换: ".concat(u||"auto"," -> ").concat(g||"zh_CN","."))}var r=(new Date).getTime(),l=x?r-x:0;x=r,y+=e+"\n",l<500&&(S&&clearTimeout(S),S=setTimeout((()=>{f(y.trim(),g,u),y="",x=null}),500))}))}else{a.argv.shift(),a.argv.shift();var T=[];T=a.argv,y=null;for(var _=0;_<a.argv.length;_++)if("--"===a.argv[_]){y=a.argv.slice(_+1).join(" "),T=a.argv.slice(0,_);break}if(T.some((e=>["h","help","-h","-help","--h","--help"].some((n=>e===n))))){var q=t(306);console.log("Help:\n            config \t\t 获取配置信息\n            config <proxy> \t 设置代理\n            config [on | off] \t 设置代理启用状态，默认：off\n            \n            [[源语种] [目标语种]] [<单句> | -- <单词1> <单词2>]\n            e.g.\n            \t tl Hello\n            \t tl zh_CN Hello\n            \t tl en ja_JP Hello\n            \t tl en_US zh_TW -- Hello World!\n            \n            version: ".concat(q.version,"\n            "))}else"config"===T[0]?2===T.length?("on"===T[1]||"off"===T[1]?p.enable="on"===T[1]:(new s.URL(T[1]),p.proxy=new s.URL(T[1]).origin),(0,r.writeFileSync)(d,JSON.stringify(p,null,2)),console.log("Proxy is: ".concat(p.proxy,", enable: ").concat(p.enable))):console.log(p):(T.length>3&&(console.log("请考虑使用 -- 传递多个字符串，便于区分语种选项。"),process.exit()),0===T.length||1===T.length?y?f(y,T[0]):f(T[0]):2===T.length?y?f(y,T[1],T[0]):f(T[1],T[0]):3===T.length&&f(y||T[2],T[1],T[0]))}},306:e=>{e.exports=JSON.parse('{"name":"@develon/tl","version":"1.0.5","description":"A Terminal translator.","bin":{"tl":"bin/index.js"},"scripts":{"setup":"nds --eject && yarn add -D @types/node","start:dev":"nds","build":"webpack --env production","rebuild":"webpack --env rebuild"},"license":"MIT","devDependencies":{"@types/node":"^16.9.6"},"author":"develon <develon@qq.com>","homepage":"https://github.com/develon2015/Translator","repository":{"type":"git","url":"https://github.com/develon2015/Translator.git"},"publishConfig":{"access":"public"},"keywords":["Terminal","Translator"]}')}},n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{}};return e[o](r,r.exports,t),r.exports}return t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t(611)})();